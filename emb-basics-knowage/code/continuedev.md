---
description: First （分支管理 审核门禁）
---

# ContinueDev

（先有一个手册的雏形）

## 现状——问题

项目上反馈当前产品的分支管理领域内不能识别影响点，主线代码合入对正在出包的产品产生了影响。

目前主线上的代码开发和合并没有门禁，没有有效的流转和触发机制。

代码的提交范围及界限不明确，MRer不能有效拦截。

经过提取，其实核心的痛点就是两个：

* 信息同步，流转。
* 代码合并的审核，门禁。

## 产品开发分支管理

分支管理，以前我们其实已经提出了相对比较多的分支管理方案，但大家在开发过程中因为种 种原因并未实际落实分支管理。

怎么落实分支管理：（责任到人）

* 不允许个人分支出产品包（PL重点审核关注）
* 产品关键分支由PL迁出，主责管理，维护。
* 主线分支由SE迁出，主责管理，维护。

产品关键分支接收Dever个人分支合并MR，MR流转方式及合并规则如下。

### MR规则及动作：

一次MR有评分机制：-3 \~ 3分，将MR按照类别进行划分：

* 3分通过动作
  * 新特性功能开发\_featuer
  * 功能bug修复\_fix
  * 代码重构\_refactor
  * 构建系统或者外部依赖更改\_build
* 2分通过动作
  * 配置文件或脚本变动\_ci
  * 增加或者更新测试\_test
  * 回退版本\_revert
* 1分通过动作
  * 文档变更\_doc
  * 代码格式变动\_style
  * 不影响代码的其余变动\_other

### 如何运作？

前提：代码合并不是一个人的事情；代码仓库的运营属于团队；

<figure><img src="../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>



## 产品分支评审门禁

目前已联系Devops是否能在MR中增加门禁，单一角色无法完成MR。（是否可以做成一个强制动作？）

分支管理矩阵。



先做大的流程，最后展开CodeReview 的规则细则。
